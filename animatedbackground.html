<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>HTML5: Canvas &amp; JavaScript - Animated Background</title>
	<link rel="stylesheet" href="css/style.css">
	<script>

		// https://www.youtube.com/watch?v=pTCzinjyEgc

		var bg = new Image();
		bg.src = "images/bg-stars.png";

		function initCanvas(){

			var ctx = document.getElementById('canvas1').getContext('2d');

			var cW = ctx.canvas.width,
				cH = ctx.canvas.height;

			function Background(){
				this.x = 0, this.y = 0, this.w = bg.width, this.h = bg.height;
				this.render = function(){
					// decrease position to animate
					ctx.drawImage(bg, this.x--, 0);
					if(this.x <= -499){
						// reset to origin at end of width (500px)
						this.x = 0;
					}
				}
			}

			var background = new Background();

			function animate(){
				ctx.save();
				ctx.clearRect(0,0,cW,cH);

				// START

				background.render();

				// END

				ctx.restore();
			}

			var animateInterval = setInterval(animate,30);

		}

		window.addEventListener('load', function(event) {
			initCanvas();
		});

	</script>
</head>
<body>
	<h1>HTML5: Canvas &amp; JavaScript - Animated Background</h1>

	<canvas id="canvas1" width="1000" height="500">
	</canvas>

</body>
</html>
