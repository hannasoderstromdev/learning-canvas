<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>HTML5: Canvas &amp; JavaScript - Animation</title>
	<link rel="stylesheet" href="css/style.css">
	<script>

		// https://www.youtube.com/watch?v=LgTSV2QWoTU
		// https://www.youtube.com/watch?v=vSWOJgXzq1E

		function initCanvas(){

			var ctx = document.getElementById('canvas1').getContext('2d');

			var cW = ctx.canvas.width,
				cH = ctx.canvas.height;

			var y = 0,
				x = 0;

			function rectObj(){
				this.x = 0,
				this.y = 0,
				this.w = 50,
				this.h = 50;

				this.render = function(ctx, rx, ry, rw, rh, clr){
					ctx.fillStyle = clr;
					ctx.fillRect(rx,ry,rw,rh);
				}
			}

			var rect1 = new rectObj();
			var rect2 = new rectObj();

			rect1.y = 10;
			rect2.y = 100;
			rect1.w = 50;
			rect2.w = 75;
			rect1.h = 50;
			rect2.h = 75;


			function animate(){

				ctx.clearRect(0, 0, cW, cH);

				// DRAW

				rect1.render(ctx, rect1.x, rect1.y, rect1.w, rect1.h, "magenta");
				rect2.render(ctx, rect2.x, rect2.y, rect2.w, rect2.h, "blue");

				rect1.x++;
				rect2.x++;

				//

			}

			var animateInterval = setInterval(animate, 30);

			ctx.canvas.addEventListener('click', function(event) {
				clearInterval(animateInterval); // stop
			});

		}

		window.addEventListener('load', function(event) {
			initCanvas();
		});

	</script>
</head>
<body>
	<h1>HTML5: Canvas &amp; JavaScript - Animation</h1>
	<canvas id="canvas1" width="600" height="400">

	</canvas>
</body>
</html>
